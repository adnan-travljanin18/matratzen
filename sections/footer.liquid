{%- liquid
    assign logo_svg = section.settings.footer_logo_svg
    assign footer_linklist_2 = section.settings.footer_linklist_col_2
    assign footer_linklist_3 = section.settings.footer_linklist_col_3
    assign footer_linklist_4 = section.settings.footer_linklist_col_4
    assign bottom_footer_linklist = section.settings.bottom_footer_linklist
-%}

<footer class="site-footer" data-section-id="{{ section.id }}">
    <div
        data-footer-top
        class="footer-top py-md-10 py-7"
        style="background-color: {{ section.settings.footer_top_bg_color }}; color: {{ section.settings.footer_top_txt_color }};"
    >
        <div class="{% if section.settings.fluid_footer %}container-fluid{% else %}container{% endif %}">
            <div class="row">
                <div class="col-sm-12 col-lg-6">
                    <div>
                        <h4 class="text-white text-center text-lg-start">
                            {{ section.settings.footer_text }}
                        </h4>
                    </div>
                </div>

                <div class="col-sm-12 col-lg-6">
                    <div class="text-center text-lg-start">
                        <div class="col-12 col-lg-4">
                            {% if linklists[footer_linklist_2].links.size > 0 %}
                                <ul class="list-unstyled footer-navigation font-size-md">
                                    {%- if settings.enable_search -%}
                                        <li class="nav-item mb-2">
                                            <a
                                                href="{{ routes.search_url }}"
                                                class="nav-link modal__toggle open-searchform"
                                                aria-haspopup="dialog"
                                                aria-label="{{ 'general.search.title' | t }}"
                                            >
                                                <span>{{ 'general.search.placeholder' | t }}</span>
                                            </a>
                                        </li>
                                    {%- endif -%}
                                    {% for link in linklists[footer_linklist_2].links %}
                                        <li class="{% unless forloop.index == 1 %}my-2{% endunless %}">
                                            <a
                                                href="{{ link.url }}"
                                                style="color: {{ section.settings.footer_top_link_color }};"
                                                title="{{ link.title }}"
                                                aria-label="{{ link.title }}"
                                            >
                                                <span>{{ link.title }}</span>
                                            </a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-6 text-center text-lg-start">
                    {% if section.settings.col_5_social_heading != blank %}
                        <p class="text-capitalize m-0">{{ section.settings.col_5_social_heading }}</p>
                    {% endif %}
                    {% if section.settings.show_social_links %}
                        {% render 'social-media-links' %}
                    {% endif %}
                </div>

                <div class="col-sm-12 col-lg-6 text-lg-start text-center">
                    {% if section.settings.col_5_social_heading != blank %}
                        <p class="text-capitalize m-0">{{ section.settings.col_5_payment_heading }}</p>
                    {% endif %}
                    {% if section.settings.show_payment_icons %}
                        <ul class="list-inline payment-icons mt-3 mb-0">
                            {% if section.settings.payment_icon_visa %}
                                <li class="list-inline-item">
                                    <img
                                        src="{{ 'visa' | payment_type_img_url }}"
                                        width="24"
                                        height="24"
                                        alt="visa"
                                        loading="lazy"
                                    >
                                </li>
                            {% endif %}
                            {% if section.settings.payment_icon_mastercard %}
                                <li class="list-inline-item">
                                    <img
                                        src="{{ 'master' | payment_type_img_url }}"
                                        width="24"
                                        height="24"
                                        alt="master"
                                        loading="lazy"
                                    >
                                </li>
                            {% endif %}
                            {% if section.settings.payment_icon_diners %}
                                <li class="list-inline-item">
                                    <img
                                        src="{{ 'diners_club' | payment_type_img_url }}"
                                        width="24"
                                        height="24"
                                        alt="diners club"
                                        loading="lazy"
                                    >
                                </li>
                            {% endif %}
                            {% if section.settings.payment_icon_ae %}
                                <li class="list-inline-item">
                                    <img
                                        src="{{ 'american_express' | payment_type_img_url }}"
                                        width="24"
                                        height="24"
                                        alt="american express"
                                        loading="lazy"
                                    >
                                </li>
                            {% endif %}
                            {% if section.settings.payment_icon_paypal %}
                                <li class="list-inline-item">
                                    <img
                                        src="{{ 'paypal' | payment_type_img_url }}"
                                        width="24"
                                        height="24"
                                        alt="paypal"
                                        loading="lazy"
                                    >
                                </li>
                            {% endif %}
                            {% if section.settings.payment_icon_applepay %}
                                <li class="list-inline-item">
                                    <img
                                        src="{{ 'apple_pay' | payment_type_img_url }}"
                                        width="24"
                                        height="24"
                                        alt="apple pay"
                                        loading="lazy"
                                    >
                                </li>
                            {% endif %}
                            {% if section.settings.payment_icon_amazonpay %}
                                <li class="list-inline-item">
                                    <img
                                        src="{{ 'amazon_payments' | payment_type_img_url }}"
                                        width="24"
                                        height="24"
                                        alt="amazon payments"
                                        loading="lazy"
                                    >
                                </li>
                            {% endif %}
                        </ul>
                    {% endif %}
                </div>
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>

    <div
        data-footer-bottom
        class="footer-bottom py-6 position-relative"
        style="background-color: {{ section.settings.footer_bottom_bg_color }}; color: {{ section.settings.footer_bottom_txt_color }};"
    >
        <div class="{% if section.settings.fluid_footer %}container-fluid{% else %}container{% endif %}">
            <div>
                <div class="col-12 mb-lg-0 mb-3 text-center">
                    <div>
                        {% if linklists[bottom_footer_linklist].links.size > 0 %}
                            <ul class="list-unstyled bottom_footer_link d-flex pe-xl-3 mb-lg-0 mb-3 justify-content-lg-end justify-content-center">
                                {% for link in linklists[section.settings.bottom_footer_linklist].links %}
                                    <li class="px-2">
                                        <a
                                            href="{{ link.url }}"
                                            class="font-size-sm"
                                            style="color: {{ section.settings.footer_bottom_txt_color }};"
                                            title="{{ link.title }}"
                                            aria-label="{{ link.title }}"
                                        >
                                            <span>{{ link.title }}</span>
                                        </a>
                                    </li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                        <p class="m-0 text-white-900">
                            {{ 'sections.footer.all_rights_reserved' | t }} &copy; {{ 'sections.footer.copyright' | t }}
                            {{ 'now' | date: '%Y' }}
                        </p>
                    </div>
                </div>
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
        <div class="scrollToTop">
            <div class="inner">
                <i class="fa-solid fa-chevron-up"></i>
            </div>
        </div>
    </div>
</footer>

<style>
    .bottom_footer_link li:not(:first-child) {
      position: relative;
    }
    .bottom_footer_link li:not(:first-child):before {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      top: 50%;
      height: 14px;
      width: 1px;
      transform: translateY(-50%);
      background-color: {{ section.settings.footer_bottom_txt_color }};
    }
    .scrollToTop {
      display: none;
      height: 50px;
      width: 50px;
      background-color: #dfeef7;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
      color: black;
      cursor: pointer;
      position: fixed;
      bottom: 10px;
      right: 50px;
      z-index: 9999;
      display: none;
      opacity: 0;
      animation: fadeInOut 0.5s ease-in-out forwards;
    }

    .scrollToTop .inner {
      height: 80%;
      width: 80%;
      background-color: #122230;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
    }
    .scrollToTop .inner .fa-chevron-up {
      color: #fff;
    }

    @keyframes fadeInOut {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var scrollToTop = document.querySelector('.scrollToTop');

        let calcScrollValue = () => {
            let pos = document.body.scrollTop || document.documentElement.scrollTop;
            let calcHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let percentVal = Math.round((Math.floor(pos) * 100) / calcHeight);

            if (pos > 10) {
                // Show the button
                scrollToTop.style.display = 'flex';
            } else {
                // Hide the button
                scrollToTop.style.display = 'none';
            }

            scrollToTop.style.background = `conic-gradient(from 0deg, #6490b2 ${percentVal}%, white ${percentVal}%)`;
        };

        scrollToTop.addEventListener('click', function () {
            // Use document.documentElement for cross-browser compatibility
            document.documentElement.scrollTop = 0;
        });

        window.addEventListener('scroll', calcScrollValue);
        calcScrollValue(); // Call this to set the initial state
    });
</script>

{% schema %}
{
    "name": "Footer",
    "settings": [
        {
            "type": "header",
            "content": "Layout"
        },
        {
            "type": "checkbox",
            "id": "fluid_footer",
            "label": "Full Width Footer?",
            "default": false
        },
        {
            "type": "text",
            "id": "footer_text",
            "label": "Footer Text"
        },
        {
            "type": "header",
            "content": "Styling"
        },
        {
            "type": "color",
            "id": "footer_top_bg_color",
            "label": "Footer Top Background Color",
            "default": "#FAF4F0"
        },
        {
            "type": "color",
            "id": "footer_top_txt_color",
            "label": "Footer Top Text Color",
            "default": "#000000"
        },
        {
            "type": "color",
            "id": "footer_top_link_color",
            "label": "Footer Top Links Color",
            "default": "#000000"
        },
        {
            "type": "color",
            "id": "footer_bottom_bg_color",
            "label": "Footer Bottom Background Color",
            "default": "#FAF4F0"
        },
        {
            "type": "color",
            "id": "footer_bottom_txt_color",
            "label": "Footer Bottom Text Color",
            "default": "#000000"
        },
        {
            "type": "header",
            "content": "Column 1"
        },
        {
            "type": "text",
            "id": "footer_logo_svg",
            "label": "Footer svg logo"
        },
        {
            "type": "image_picker",
            "id": "footer_logo",
            "label": "Logo image"
        },
        {
            "type": "range",
            "id": "logo_max_width",
            "min": 5,
            "max": 500,
            "step": 5,
            "unit": "px",
            "label": "Logo width",
            "default": 180
        },
        {
            "type": "richtext",
            "id": "col_1_text",
            "label": "Text"
        },
        {
            "type": "header",
            "content": "Column 2"
        },
        {
            "type": "text",
            "id": "col_2_heading",
            "label": "Heading",
            "default": "Footer menu"
        },
        {
            "type": "link_list",
            "id": "footer_linklist_col_2",
            "label": "Select Menu"
        },
        {
            "type": "header",
            "content": "Column 3"
        },
        {
            "type": "text",
            "id": "col_3_heading",
            "label": "Heading",
            "default": "Footer menu"
        },
        {
            "type": "link_list",
            "id": "footer_linklist_col_3",
            "label": "Select Menu"
        },
        {
            "type": "header",
            "content": "Column 4"
        },
        {
            "type": "text",
            "id": "col_4_heading",
            "label": "Heading",
            "default": "Footer menu"
        },
        {
            "type": "link_list",
            "id": "footer_linklist_col_4",
            "label": "Select Menu"
        },
        {
            "type": "header",
            "content": "Column 5"
        },
        {
            "type": "text",
            "id": "col_5_heading",
            "label": "Heading",
            "default": "STAY IN TOUCH"
        },
        {
            "type": "text",
            "id": "col_5_txt",
            "label": "Text",
            "default": "Get monthly updates and free resources."
        },
        {
            "type": "checkbox",
            "id": "show_newsletter",
            "label": "Show Newsletter Form?",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "show_social_links",
            "label": "Show Social Links?",
            "default": true
        },
        {
            "type": "text",
            "id": "col_5_social_heading",
            "label": "Heading",
            "default": "Connect with Us"
        },
        {
            "type": "paragraph",
            "content": "Select Networks"
        },
        {
            "type": "checkbox",
            "id": "social_icon_facebook",
            "label": "Facebook",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "social_icon_twitter",
            "label": "Twitter",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "social_icon_instagram",
            "label": "Instagram",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "social_icon_youtube",
            "label": "YouTube",
            "default": true
        },
        {
            "type": "header",
            "content": "Bottom Footer Navigation"
        },
        {
            "type": "link_list",
            "id": "bottom_footer_linklist",
            "label": "Select Menu"
        },
        {
            "type": "header",
            "content": "Payment Icons"
        },
        {
            "type": "checkbox",
            "id": "show_payment_icons",
            "label": "Show Payment Icons?",
            "default": true
        },
        {
            "type": "text",
            "id": "col_5_payment_heading",
            "label": "Heading"
        },
        {
            "type": "paragraph",
            "content": "Select Payment Methods"
        },
        {
            "type": "checkbox",
            "id": "payment_icon_visa",
            "label": "Visa",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "payment_icon_mastercard",
            "label": "Mastercard",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "payment_icon_ae",
            "label": "American Express",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "payment_icon_diners",
            "label": "Diners",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "payment_icon_paypal",
            "label": "Paypal",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "payment_icon_applepay",
            "label": "Apple Pay",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "payment_icon_amazonpay",
            "label": "Amazon Pay",
            "default": true
        }
    ]
}
{% endschema %}
